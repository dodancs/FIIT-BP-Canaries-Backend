{
    "openapi": "3.0.0",


    "info": {
        "description": "Canary based Leak-detection system backend",
        "version": "1.0.0",
        "title": "Canaries Backend REST API"
    },


    "servers": [
        {
            "url": "/"
        }
    ],


    "tags": [
        {
          "name": "Auth module",
          "description": "API module for providing user authentication"
        },
        {
          "name": "Workers module",
          "description": "API module for managing worker user accounts"
        },
        {
          "name": "Domains module",
          "description": "API module for managing canary domains"
        },
        {
          "name": "Monitored Sites module",
          "description": "API module for managing monitored sites"
        },
        {
          "name": "Canaries module",
          "description": "API module for managing canary nodes"
        }
      ],


    "paths": {


        "/auth": {
            "get": {
                "tags": [
                    "Auth module"
                ],
                "summary": "Returns Auth module version",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/moduleVersion"
                                }
                            }
                        }
                    }
                }
            }
        },


        "/auth/login": {
            "post": {
                "tags": [
                    "Auth module"
                ],
                "summary": "Request access token based on provided credentials",
                "requestBody": {
                    "description": "Auth Credentials Object",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                            "$ref": "#/components/schemas/authCredentialsObject"
                            }
                        }
                    }
                },
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "201": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/accessToken"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    }
                }
            }
        }

    },


    "components": {
        "schemas": {

            "moduleVersion": {
                "properties": {
                    "version": {
                        "type": "string",
                        "example": "1.0.0"
                    }
                }
            },

            "authCredentialsObject": {
                "type": "object",
                "properties": {
                    "uuid": {
                        "type": "string",
                        "format": "string",
                        "example": "r287yry4o297rtfksyi7sayk"
                    },
                    "password": {
                        "type": "string",
                        "format": "password",
                        "example": "secret"
                    }
                }
            },

            "accessToken": {
                "properties": {
                    "token": {
                        "type": "string",
                        "example": "r892yir762goeulohydo78e2gofr726tf7ofg54o63gor8724hgo86tgep7o32eg2p7r8o3629f1oye763fri247t6f74oh2i7gdeguyi2gfdi2eoy4gi76gfr5yog637fowfldysguftg2lhd2ybi7b6dgr=="
                    }
                }
            }

        }
    }
  }